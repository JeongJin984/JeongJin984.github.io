<!DOCTYPE html><html lang="en" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.7.0"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Spring JPA 3" /><meta name="author" content="Jiny" /><meta property="og:locale" content="en_US" /><meta name="description" content="Spring JPA 3" /><meta property="og:description" content="Spring JPA 3" /><link rel="canonical" href="https://jeongjin984.github.io/posts/Spring-JPA-3/" /><meta property="og:url" content="https://jeongjin984.github.io/posts/Spring-JPA-3/" /><meta property="og:site_name" content="Jiny" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-03-06T18:16:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Spring JPA 3" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Jiny" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@type":"BlogPosting","datePublished":"2021-03-06T18:16:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jeongjin984.github.io/posts/Spring-JPA-3/"},"url":"https://jeongjin984.github.io/posts/Spring-JPA-3/","author":{"@type":"Person","name":"Jiny"},"description":"Spring JPA 3","headline":"Spring JPA 3","dateModified":"2021-03-09T22:44:43+09:00","@context":"https://schema.org"}</script><title>Spring JPA 3 | Jiny</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Jiny</a></div><div class="site-subtitle font-italic">Lifes are vicious</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <a href="https://github.com/JeongJin984" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Spring JPA 3</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Spring JPA 3</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Mar 6, 2021, 6:16 PM +0900" > Mar 6 <i class="unloaded">2021-03-06T18:16:00+09:00</i> </span> by <span class="author"> Jiny </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Tue, Mar 9, 2021, 10:44 PM +0900" > Mar 9 <i class="unloaded">2021-03-09T22:44:43+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1842 words">10 min</span></div></div><div class="post-content"><h1 id="spring-jpa-3">Spring JPA 3</h1><hr /><h2 id="-fetch-join--eager--lazy">💿 Fetch Join &amp; EAGER &amp; LAZY</h2><h3 id="즉시-로딩eargr로-설정">즉시 로딩(EARGR로 설정)</h3><ol><li>멤버 전체를 조회하기 위해 JPQL 실행 select m from member m<li>JPQL은 EAGER와 무관하게 SQL로 그대로 번역 -&gt; select m.* from member<li>JPQL 결과가 member만 조회하고, team은 조회하지 않음<li>member와 team이 즉시 로딩으로 설정되어 있기 때문에 연관된 팀을 각각 쿼리를 날려서 추가 조회 (N+1)</ol><h3 id="지연-로딩lazy로-설정">지연 로딩(LAZY로 설정)</h3><ol><li>멤버 전체를 조회하기 위해 JPQL 실행 select m from member m<li>JPQL은 EAGER와 무관하게 SQL로 그대로 번역 -&gt; select m.* from member<li>JPQL 결과가 member만 조회하고, team은 조회하지 않음<li>member와 team이 지연 로딩으로 설정되어 있기 때문에 가짜 프록시 객체를 넣어두고, 실제 회원은 팀은 조회하지 않음<li>실제 team을 사용하는 시점에 쿼리를 날려서 각각 조회(N+1)</ol><h3 id="fetch-join-또는-엔티티-그래프eager-lazy-상관-없음">fetch join 또는 엔티티 그래프(EAGER, LAZY 상관 없음)</h3><ol><li>멤버와 팀을 한번에 조회하기 위해 JPQL+fetch join 실행 select m from member m join fetch m.team<li>JPQL에서 fetch join을 사용했으므로 SQL은 멤버와 팀을 한 쿼리로 조회 -&gt; select m.<em>, t.</em> from member join team …<li>JPQL 결과가 member와 team을 한꺼번에 조회함<li>member와 team이 fetch join으로 한번에 조회되었으므로 N+1 문제가 발생하지 않음</ol><h2 id="-fetch-join-과-별칭">💿 Fetch Join 과 별칭</h2><blockquote><p>JPA 표준 스펙에는 fetch join 대상에 별칭을 사용할 수 없다.</p></blockquote><ul><li>하지만 Hibernate는 허용<li>주의사항이 있음</ul><h3 id="주의-사항">주의 사항</h3><ol><li>fetch join JPQL에 on 조건을 달면 무조건 에러가 발생합니다.(with-clause not allowed on fetch association)<li>Select t from Team t join fetch t.member m on m.name=:memberName<ul><li>member 컬렉션이 전부 조회되지 않기 때문에 실행 불가<li>그러면 Select t from Team t join fetch t.member m on t.name=:teamName<li>위의 것은 Member 컬렉션에 영향을 주지 않는데 왜 안될까?</ul><li>조인 과는 무관하게 Team 자체의 데이터를 필터링 하는 것이기 때문에 on 에 사용하는 것은 의도에 맞지 않다. where을 사용하는 것이 맞다.<li>select t from Team t join fetch t.members m where m.username = ‘m1’<ul><li>where을 사용하더라도 패치 조인 대상에는 where을 사용하면 안된다.<li>실행 결과 team1 = teamA member = m1(member가 하나만 존재)</ul></ol><p><strong>따라서</strong> fetch join의 결과는 연관된 모든 Entity가 있을거라고 가정하고 사용해야 함 이렇게 fetch join에 별칭을 잘못 사용해서 결과를 필터링 하면 객체의 상태와 DB의 상태 일관성이 깨짐</p><p><strong>결론:</strong> fetch join의 대상은 on, where 등에서 필터링 조건으로 사용하면 안된다.</p><hr /><h2 id="-hibernate-허용">💿 Hibernate 허용</h2><blockquote><p>일관성이 깨지지 않는 범위 내에서 허용</p></blockquote><ul><li>ex) Select m from Member m join fetch m.team t where t.name=:teamName<ul><li>조회된 회원은 db와 동일한 일관성을 유지한 팀의 결과를 가지고 있습니다.</ul><li>하지만 이 쿼리를 left join fetch로 변경하면 일관성이 깨질 수 있습니다.</ul><hr /><h2 id="-fetch-join의-한계">💿 Fetch Join의 한계</h2><ol><li>Fetch Join 대상에는 별칭을 줄 수 없다.<ul><li>Hibernate 는 가능, 가급적 사용X(fetch join을 여러번 해야 할때 가끔 사용)</ul><li>둘 이상의 컬렉션은 페치 조인 할 수 없다.<li>켈렉션을 Fetch Join하면 페이징 API(setFirstResult, setMaxResults)를 사용할 수 없다.<ul><li>1:1, N:1 같은 단일 값 연관 필드들은 페치 조인해도 Paging 가능<li>Hibernate는 경고 로그를 남기고 메모리에서 페이징(위험)<li>예를 들어 페이지가 1이면 다대일에서 컬렉션을 조회하면 하나에 하나만 매치되어 DB와 일치되지 않는 문제가 발생<li>페이징 대신 컬렉션에 @BatchSize를 설정해서 limit을 설정해 준다. 혹은 persistence.xml에서 글로벌 하게 설정(한번에 N+1 문제에서 limit을 정해줄 수 있다.)<li>Dto로 뽑아도 된다.</ul><li>다대일에서 컬렉션에 들어오는 것은 하나의 객체에 여러개의 Entity가 들어오는 것이 아니라 각 Entity에 연관된 Entity가 전부 하나씩 대응되어 들어온다.</ol><p>__</p><h2 id="-fetch-join의-최적화">💿 Fetch Join의 최적화</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="../assets/img/post/domain.png" alt="image" /></p><h3 id="entity-직접-노출">Entity 직접 노출</h3><ul><li>절대 Entity를 직접 노출해서는 안된다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>   <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api/v1/simple-orders"</span><span class="o">)</span>
   <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Order</span><span class="o">&gt;</span> <span class="nf">orderV1</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Order</span><span class="o">&gt;</span> <span class="n">all</span> <span class="o">=</span> <span class="n">orderRepository</span><span class="o">.</span><span class="na">findAllByString</span><span class="o">(</span><span class="k">new</span> <span class="nc">OrderSearch</span><span class="o">());</span>
      <span class="k">return</span> <span class="n">all</span><span class="o">;</span>
   <span class="o">}</span>
</pre></table></code></div></div><p><strong>주의</strong></p><ul><li>hibernatemodule을 Bean에 등록해야함(지연 로딩 문제로 무한 query에 갇힘)<ul><li>이러면 LAZY 무시함</ul><li>혹은 양방향이 걸린 곳에 @JsonIgnore을 설정해 주어야 함<li>즉시로딩(EAGER)쓰면 되는데 쓰지 말자<li>그냥 쓰지 말자</ul><h3 id="dto-변환">Dto 변환</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>   <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api/v2/simple-orders"</span><span class="o">)</span>
   <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">SimpleOrderDto</span><span class="o">&gt;</span> <span class="nf">orderV2</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Order</span><span class="o">&gt;</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">orderRepository</span><span class="o">.</span><span class="na">findAllByString</span><span class="o">(</span><span class="k">new</span> <span class="nc">OrderSearch</span><span class="o">());</span>
      <span class="k">return</span> <span class="n">orders</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
               <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">SimpleOrderDto:</span><span class="o">:</span><span class="k">new</span><span class="o">)</span>
               <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
   <span class="o">}</span>
</pre></table></code></div></div><p><strong>주의</strong></p><ul><li>아직 n+1 문제가 남아있음(처음에 하나 보내면 members 얻으려고 2번 그리고 delivery 얻으려고 2번 해서 총 5번 나감)<li>DTO 만들때 항상 안에 있는 연관 관계가 있는 Entity들도 그대로 노출하지 말고 DTO로 만들어서 노출시켜라</ul><h3 id="fetch-join">fetch join</h3><ul><li>가져올때 전부 DB에서 붙혀서 가져옴</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>   <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Order</span><span class="o">&gt;</span> <span class="nf">findAllWithMemberDelivery</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"select o from Order o"</span> <span class="o">+</span>
               <span class="s">" join fetch o.member m"</span> <span class="o">+</span>
               <span class="s">" join fetch o.delivery d"</span><span class="o">,</span> <span class="nc">Order</span><span class="o">.</span><span class="na">class</span>
      <span class="o">).</span><span class="na">getResultList</span><span class="o">();</span>
   <span class="o">}</span>
</pre></table></code></div></div><p><strong>주의</strong></p><ul><li>일대다일 경우 데이터가 다 기준으로 늘어남(DB는 그냥 left join 시켜버리기 때문에 record가 늘어날 수 밖에 없음)<ul><li>distinct를 쓰면 된다(JPA가 reference 값이 같은 객체는 List에 추가하지 않음)<li>SQL에 distinct를 추가하고 더해서 같은 엔티티(ref값이 같은 JPA는 id가 같으면 ref가 같음)가 조회되면 중복을 걸러줌<li>근데 이거 쓰면 paging 불가</ul></ul><p><strong>페이징 불가</strong></p><ul><li>켈렉션을 페치 조인하면 일대다 조인이 발생하므로 데이터가 증가한다.<li>일대다 관계에서 1을 기준으로 페이징을 하는 것이 목적이다. 그런데 데이터는 다를 기준으로 row가 생성된다.<li>Order를 기준으로 페이징을 하고 싶은데, 다(N)인 OrderItem을 조인하면 OrderItem이 기준이 되어버린다.<li>setFirstResult, setMaxResult를 쓰면 inmemory에서 페이징을 수행<ul><li>warning을 남김 쓰지 말것</ul></ul><h3 id="dto로-가져오기">DTO로 가져오기</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>   <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">SimpleOrderDto</span><span class="o">&gt;</span> <span class="nf">findOrderDtos</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"select new com.example.JPALecture2.domain.dto.SimpleOrderDto(o.id, m.name, o.orderDate, o.status, d.address)"</span> <span class="o">+</span>
               <span class="s">" from Order o "</span> <span class="o">+</span>
               <span class="s">" join o.member m"</span> <span class="o">+</span>
               <span class="s">" join o.delivery d"</span><span class="o">,</span> <span class="nc">SimpleOrderDto</span><span class="o">.</span><span class="na">class</span>
      <span class="o">).</span><span class="na">getResultList</span><span class="o">();</span>
</pre></table></code></div></div><p><strong>주의</strong></p><ul><li>fetch join과 기본적으로 성능은 같으나 DTO에 딱맞게 Query가 작성되어 재사용 불가</ul><h3 id="페이징-한계-해소">페이징 한계 해소</h3><ul><li>먼저 ToOne(OneToOne, ManyToOne) 관계는 모두 fetch join 한다.<ul><li>ToOne 관계는 row를 증가시키지 않기 때문이다.</ul><li>남은 컬렉션은 지연로딩으로 조회한다.<li>지연 로딩 성능 최적화를 위해 batch_fetch_size 혹은 @BatchSize를 적용한다.<ul><li>hibernate.default_batch_fetch_size: 글로벌 설정<li>@BatchSize: 개별 최적화<li>이 옵션을 사용하면 관련된 컬렉션이나 프록시 객체를 한번에 설정한 size 만큼 in 쿼리로 미리 가져옴</ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/java/'>Java</a>, <a href='/categories/spring/'>Spring</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/spring/" class="post-tag no-text-decoration" >spring</a> <a href="/tags/jpa/" class="post-tag no-text-decoration" >jpa</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Spring JPA 3 - Jiny&url=https://JeongJin984.github.io/posts/Spring-JPA-3/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Spring JPA 3 - Jiny&u=https://JeongJin984.github.io/posts/Spring-JPA-3/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Spring JPA 3 - Jiny&url=https://JeongJin984.github.io/posts/Spring-JPA-3/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Spring-JPA-3/">Spring JPA 3</a><li><a href="/posts/Spring-JPA-2/">Spring JPA 2</a><li><a href="/posts/Java-Annotation/">Spring</a><li><a href="/posts/Java-Generic/">Java Generic</a><li><a href="/posts/Spring-JPA-Querydsl/">Spring-JPA-Querydsl</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/basics/">basics</a> <a class="post-tag" href="/tags/basic/">basic</a> <a class="post-tag" href="/tags/dl/">dl</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/computerarchitecture/">computerarchitecture</a> <a class="post-tag" href="/tags/hardware/">hardware</a> <a class="post-tag" href="/tags/springmvc/">springmvc</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Spring-Spring-QueryDsl/"><div class="card-body"> <span class="timeago small" > Mar 22 <i class="unloaded">2021-03-22T21:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring QueryDsl</h3><div class="text-muted small"><p> Spring QueryDsl 💿 기본 문법 기본 검색 Query 1 2 3 4 5 Memer findMember = queryFactory .selectFrom(member) .where(member.username.eq("member1") .and(member.age.eq(10))) ...</p></div></div></a></div><div class="card"> <a href="/posts/Spring-JPA/"><div class="card-body"> <span class="timeago small" > Jan 24 <i class="unloaded">2021-01-24T18:16:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring JPA</h3><div class="text-muted small"><p> Spring JPA 💿 JPA 자바 어플리케이션에서 관계형 데이터베이스를 사용하는 방식을 정의한 인터페이스 여기서 주목할 점은 바로 인터페이스라는 것이다. JPA는 특정 기능을 하는 라이브러리가 아니다. JPA는 자바 어플리케이션에서 관계형 데이터베이스를 어떻게 사용해야 하는지를 정의한 방법이다. JPA는 단순히 interface이...</p></div></div></a></div><div class="card"> <a href="/posts/Spring-JPA-2/"><div class="card-body"> <span class="timeago small" > Jan 24 <i class="unloaded">2021-01-24T18:16:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring JPA 2</h3><div class="text-muted small"><p> Spring JPA 2 💿 Entity Mapping @Entity Entity는 객체 관점에서 부르는 이름 보통 Class와 같은 이름을 사용하기 때문에 값을 변경하지 않음 Entity의 이름은 JQL에서 사용 @Table Relation(database) 관점에서 부르는 이름 @Entity의 이름이 기본값 Ta...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Functional-Programming1/" class="btn btn-outline-primary"><p>Functional programming1</p></a> <a href="/posts/Spring-Spring-QueryDsl/" class="btn btn-outline-primary"><p>Spring QueryDsl</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">your_full_name</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/basics/">basics</a> <a class="post-tag" href="/tags/basic/">basic</a> <a class="post-tag" href="/tags/dl/">dl</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/jpa/">jpa</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/computerarchitecture/">computerarchitecture</a> <a class="post-tag" href="/tags/hardware/">hardware</a> <a class="post-tag" href="/tags/springmvc/">springmvc</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://JeongJin984.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
