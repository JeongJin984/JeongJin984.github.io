---
title: Java IO
author: Jiny
date: 2021-02-27 22:40:00 +0800
categories: [Lang, Java]
tags: [java, basic]
toc: false
---

# I/O
___

## ğŸ’¿ **I/O**

> inputê³¼ outputì˜ ì•½ìë¡œ ì…ë ¥ê³¼ ì¶œë ¥ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì¦‰, ì»´í“¨í„° ë‚´ë¶€ ë˜ëŠ” ì™¸ë¶€ì™€ì˜ ì¥ì¹˜ì™€ í”„ë¡œê·¸ë¨ê°„ì˜ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ê²ƒì„ ë§í•œë‹¤.

___

## ğŸ’¿ **NIO**

> ìŠ¤íŠ¸ë¦¼ ê¸°ë°˜ I/Oì—ì„œëŠ” ë°ì´í„° ì†ŒìŠ¤ì™€ ë°ì´í„° ì‹±í¬, ìë°” í”„ë¡œê·¸ë¨ê°„ì˜ ë°ì´í„° ì´ë™ì„ ìœ„í•´ì„œ ìŠ¤íŠ¸ë¦¼ì„ ì‚¬ìš©í•œë‹¤. ìë°” í”„ë¡œê·¸ë¨ì€ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì“´ë‹¤. ì´ëŸ¬í•œ ì ‘ê·¼ì€ I/O ìˆ˜í–‰ì„ ëŠë¦¬ê²Œ ë§Œë“ ë‹¤. NIOëŠ” ìŠ¤íŠ¸ë¦¼ ê¸°ë°˜ I/OëŠ” ëŠë¦° ì†ë„ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤. NIOì—ì„œëŠ” I/Oì²˜ë¦¬ë¥¼ ìœ„í•´ ì±„ë„ê³¼ ë²„í¼ë¥¼ ì‚¬ìš©í•œë‹¤. ì±„ë„ì€ streamê³¼ ë¹„ìŠ·í•˜ë‹¤. ì±„ë„ì€ ë°ì´í„° ì†ŒìŠ¤/ì‹±í¬ ë° ìë°” í”„ë¡œê·¸ë¨ê°„ì˜ ì—°ê²°ì„ ëŒ€í‘œí•œë‹¤.  

![image](https://t1.daumcdn.net/cfile/tistory/254C7E47553459121E)

### Channels

> ì¼ë°˜ì ìœ¼ë¡œ NIOì˜ ëª¨ë“  IOëŠ” ì±„ë„ë¡œ ì‹œì‘í•œë‹¤. ì±„ë„ë°ì´í„°ë¥¼ ë²„í¼ë¡œ ì½ì„ ìˆ˜ ìˆê³ , ë²„í¼ì—ì„œ ì±„ë„ë¡œ ë°ì´í„°ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤. ì±„ë„ì€ ìŠ¤íŠ¸ë¦¼ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ëª‡ê°€ì§€ ì°¨ì´ì ì´ ì¡´ì¬í•œë‹¤.

- ì±„ë„ì„ í†µí•´ì„œëŠ” ì½ê³  ì“¸ ìˆ˜ ìˆì§€ë§Œ, ìŠ¤íŠ¸ë¦¼ì€ ì¼ë°˜ì ìœ¼ë¡œ ë‹¨ë°©í–¥(ì½ê¸° í˜¹ì€ ì“°ê¸°)ìœ¼ë¡œë§Œ ê°€ëŠ¥í•˜ë‹¤.
- ì±„ë„ì€ ë¹„ë™ê¸°ì  ìœ¼ë¡œ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤.
- ì±„ë„ì€ í•­ìƒ ë²„í¼ì—ì„œ ë¶€í„° ì½ê±°ë‚˜ ë²„í¼ë¡œ ì“´ë‹¤.

### Buffer

NIOì˜ ë²„í¼ëŠ” ì±„ë„ê³¼ ìƒí˜¸ì‘ìš©í•  ë•Œ ì‚¬ìš©ëœë‹¤. ì»¤ë„ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì±„ë„ì— ì˜ í•´ ì§ì ‘ read ë˜ê±°ë‚˜ write ë  ìˆ˜ ìˆëŠ” ë°°ì—´ê³¼ ê°™ì€ ê°ì²´

IOì—ì„œëŠ” ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì´ 1ë°”ì´íŠ¸ë¥¼  ì“°ë©´ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì´ 1ë°”ì´íŠ¸ë¥¼ ì½ëŠ”ë‹¤. ì´ê²ƒ ë³´ë‹¤ëŠ” ë²„í¼ë¥¼ ì‚¬ìš©í•´ì„œ ë³µìˆ˜ ê°œì˜ ë°”ì´íŠ¸ë¥¼ í•œêº¼ë²ˆì— ì…ë ¥ë°›ê³  ì¶œë ¥í•˜ëŠ” ê²ƒì´ ë¹ ë¥¸ ì„±ëŠ¥ì„ ë‚¸ë‹¤.

### Selector

ì…€ëŸ­í„°ë¥¼ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì—¬ëŸ¬ ì±„ë„ì„ ì²˜ë¦¬(handle)í•  ìˆ˜ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ í•˜ë‚˜ë‹¹ ì“°ë ˆë“œ í•˜ë‚˜ë¥¼ ìƒì„±í•´ì„œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì“°ë ˆë“œê°€ ë§ì´ ìƒì„±ë ìˆ˜ë¡ ê¸‰ê²©í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ê°€ì¡Œë˜ ë‹¨ì ì„ ê°œì„ í•˜ëŠ” Reactor íŒ¨í„´ì˜ êµ¬í˜„ì²´

### NIO ì™€ IO

|êµ¬ë¶„|IO|NIO|
|---|---|---|
|ì…ì¶œë ¥ ë°©ì‹|ìŠ¤íŠ¸ë¦¼ ë°©ì‹|ì±„ë„ ë°©ì‹|
|ë²„í¼ ë°©ì‹|ë„Œë²„í¼|ë²„í¼|
|ë¹„ë™ê¸° ë°©ì‹|ì§€ì› ì•ˆí•¨|ì§€ì›|
|ë¸”ë¡œí‚¹ ë°©ì‹|ë¸”ë¡œí‚¹ ë°©ì‹ë§Œ ì§€ì›|ë¸”ë¡œí‚¹ / ë„Œë¸”ë¡œí‚¹ ëª¨ë‘ ì§€ì›|

ìŠ¤íŠ¸ë¦¼ì€ ë‹¨ë°©í–¥ ë°ì´í„° ì „ì†¡ì„ ìœ„í•´ ì‚¬ìš©ëœë‹¤. ì¦‰, ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì€ ë‹¨ì§€ ë°ì´í„° ì†ŒìŠ¤ë¡œë¶€í„° ìë°” í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê³ , ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì€ ìë°” í”„ë¡œê·¸ë¨ìœ¼ë¡œë¶€í„° ë°ì´í„° ì‹±í¬ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•œë‹¤. í•˜ì§€ë§Œ, ì±„ë„ì€ ì–‘ë°©í–¥ ì „ì†¡ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆë‹¤.  
  
 ìŠ¤íŠ¸ë¦¼ ê¸°ë°˜ I/Oì—ì„œ ë°ì´í„° ì „ì†¡ì˜ ê¸°ë³¸ ë‹¨ìœ„ëŠ” byteì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì±„ë„ê¸°ë°˜ NIOì—ì„œëŠ” ë°ì´í„° ì „ì†¡ì˜ ê¸°ë³¸ ë‹¨ìœ„ëŠ” bufferì´ë‹¤.  

### NIO2.0

NIO2ì—ì„œëŠ” ëª¨ë“  íŒŒì¼ ì‹œìŠ¤í…œì„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. íŒŒì¼ ì‹œìŠ¤í…œì€ NIO2ë¥¼ í™•ì¥í•´ì„œ ì œê³µí•œë‹¤. ë˜í•œ íŒŒì¼ ì‹œìŠ¤í…œì— ëŒ€í•œ ê¸°ë³¸êµ¬í˜„ì„ í™œìš©í•  ìˆ˜ ìˆê³ , íŒŒì¼ ì‹œìŠ¤í…œ ê°ê° êµ¬í˜„ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ëª¨ë“  íŒŒì¼ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ íŒŒì¼ ì˜¤í¼ë ˆì´ì…˜(copt, move, delete)ë¥¼ ì œê³µí•œë‹¤. ë˜í•œ move ì˜¤í¼ë ˆì´ì…˜ì„ ì œê³µí•œë‹¤. ë˜í•œ í–¥ìƒëœ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì œê³µí•˜ë©°, ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ì œê³µí•œë‹¤.

íŒŒì¼ì´ ì¶”ê°€ë˜ê±°ë‚˜ ì„œë¸Œë””ë ‰í† ë¦¬ê°€ ìƒê¸°ëŠ” ê²ƒê³¼ ê°™ì€ ë””ë ‰í† ë¦¬ì— ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, íŒŒì¼ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” APIë„ ì œê³µëœë‹¤.

ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ì— ëŒ€í•œ ë¹„ë™ê¸° I/Oë„ ì œê³µë˜ë©°, DatagramChannelì„ ì´ìš©í•œ ë©€í‹°ìºìŠ¤íŒ…ë„ ì§€ì›í•œë‹¤.

___

## ğŸ’¿ **ìŠ¤íŠ¸ë¦¼ (Stream)**

> ìŠ¤íŠ¸ë¦¼ì´ë€ ì—°ì†ì ì¸ ë°ì´í„°ì˜ íë¦„ì„ ë¬¼ì— ë¹„ìœ í•´ì„œ ë¶™ì—¬ì§„ ì´ë¦„ì¸ë°, ì—¬ëŸ¬ ê°€ì§€ë¡œ ìœ ì‚¬í•œ ì ì´ ë§ë‹¤. ë¬¼ì´ í•œìª½ ë°©í–¥ìœ¼ë¡œë§Œ íë¥´ëŠ” ê²ƒê³¼ ê°™ì´ ìŠ¤íŠ¸ë¦¼ì€ ë‹¨ë°©í–¥í†µì‹ ë§Œ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì…ë ¥ê³¼ ì¶œë ¥ì„ ë™ì‹œì— ì²˜ë¦¬ê°€ ë¶ˆê°€í•˜ë‹¤. ê·¸ë˜ì„œ ì…ë ¥ê³¼ ì¶œë ¥ì„ ë™ì‹œì— í•˜ë ¤ë©´ ì…ë ¥ìŠ¤íŠ¸ë¦¼ê³¼ ì¶œë ¥ìŠ¤íŠ¸ë¦¼ì„ ê°ê° ë§Œë“¤ì–´ ì´ 2ê°œì˜ ìŠ¤íŠ¸ë¦¼ì´ í•„ìš”í•˜ë‹¤.




### InputStream

ë°”ì´íŠ¸ ê¸°ë°˜ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ë¡œ ì¶”ìƒí´ë˜ìŠ¤ ì´ë‹¤. ëª¨ë“  ë°”ì´íŠ¸ ê¸°ë°˜ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì€ ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ ë§Œë“¤ì–´ ì§„ë‹¤. InputStream í´ë˜ìŠ¤ì—ëŠ” ë°”ì´íŠ¸ ê¸°ë°˜ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì´ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì ¸ì•¼ í•  ë©”ì†Œë“œë“¤ì´ ì •ì˜ ë˜ì–´ ìˆë‹¤.

read()ì™€ close í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±, íŒŒê´´

### OutputStream

ë°”ì´íŠ¸ ê¸°ë°˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ë¡œ ì¶”ìƒí´ë˜ìŠ¤ ì´ë‹¤. ëª¨ë“  ë°”ì´íŠ¸ ê¸°ë°˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì€ ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ ë§Œë“¤ì–´ì§„ë‹¤. OutputStream í´ë˜ìŠ¤ì—ëŠ” ë°”ì´íŠ¸ ê¸°ë°˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì´ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì ¸ì•¼ í•  ë©”ì†Œë“œê°€ ì •ì˜ë˜ì–´ ìˆë‹¤.

write ì™€ flush close í•¨ìˆ˜ë¥¼ í†µí•´ Control

___

## ğŸ’¿ **Byteì™€ Character ìŠ¤íŠ¸ë¦¼**

> ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë‚˜ë‰¨

### Byte Stream

> binary ë°ì´í„°ë¥¼ ì…ì¶œë ¥í•˜ëŠ” ìŠ¤íŠ¸ë¦¼ì´ë‹¤, ì´ë¯¸ì§€, ë™ì˜ìƒ ë“±ì„ ì†¡ìˆ˜ì‹ í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.

![image](https://bingbingpa.github.io/static/img/whiteship-live-study-week13/byte-stream.png)

-   InputStream / OutputStream : byte ê¸°ë°˜ input/output streamì˜ ìµœê³  ì¡°ìƒ
-   ByteArrayInputStream / ByteArrayOutputStream : byte array(byte[]) ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì…ì¶œë ¥ í•˜ëŠ” í´ë˜ìŠ¤
-   FileInputStream / FileOutputStream : íŒŒì¼(file)ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì…ì¶œë ¥ í•˜ëŠ” í´ë˜ìŠ¤

### Character Stream

> text ë°ì´í„°ë¥¼ ì…ì¶œë ¥í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ìŠ¤íŠ¸ë¦¼ì´ë‹¤. HTML ë¬¸ì„œ, í…ìŠ¤íŠ¸ íŒŒì¼ì„ ì†¡ìˆ˜ì‹ í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.

![image](https://bingbingpa.github.io/static/img/whiteship-live-study-week13/character-stream.png)

-   Reader / Writer : Character ê¸°ë°˜ input / output streamì˜ ìµœê³  ì¡°ìƒ
-   FileReader / FileWriter : ë¬¸ì ê¸°ë°˜ì˜ íŒŒì¼ì„ ì…ì¶œë ¥ í•˜ëŠ” í´ë˜ìŠ¤

___

## ğŸ’¿ **í‘œì¤€ ìŠ¤íŠ¸ë¦¼**

-   System.in : í‘œì¤€ ì…ë ¥ìš© ìŠ¤íŠ¸ë¦¼
-   System.out : í‘œì¤€ ì¶œë ¥ìš© ìŠ¤íŠ¸ë¦¼
-   System.err : í‘œì¤€ ì˜¤ë¥˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼

|ë©”ì„œë“œ|ì„¤ëª…|
|---|---|
|System.in.read()|í‚¤ë³´ë“œë¡œ ì…ë ¥ëœ ê°’ì„ ì½ì–´ë“¤ì„, ë” ì´ìƒ ì½ì–´ë“¤ì¼ ìˆ˜ ì—†ìœ¼ë©´ -1 ë¦¬í„´|
|System.out.write()|( )ì•ˆì— ì…ë ¥ëœ ê°’ì„ í™”ë©´(ì½˜ì†”)ì— ì¶œë ¥, ì»´í“¨í„°ê°€ ìˆ«ìë¡œ ì €ì¥í•˜ê³  ìˆëŠ” ê²ƒì„ ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ë¬¸ìë¡œ ë””ì½”ë”©í•´ì„œ ì¶œë ¥|
|System.out.flush()|ì¶œë ¥ì€ ë²„í¼ì— ì¼ì • ìš©ëŸ‰ ì´ìƒì´ ìŒ“ì—¬ì•¼ ê°€ëŠ¥í•œë°, ë²„í¼ë¥¼ ë¹„ì›Œì„œ ë°”ë¡œ ì¶œë ¥í•˜ë„ë¡ í•˜ëŠ” ë©”ì†Œë“œ. ë°ì´í„°ë¥¼ ì¼ì • ìš©ëŸ‰ ìŒ“ì•„ë‘ì—ˆë‹¤ê°€ ì¶œë ¥í•˜ëŠ” ì´ìœ ëŠ” ì…ì¶œë ¥ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•¨|

___

## ğŸ’¿ **File ì½ê³  ì“°ê¸°**

### read

```java
String fileName = "C:/test.txt"  // ì½ì–´ë“¤ì¼ íŒŒì¼ëª… 

FileReader fileReader = new FileReader(fileName); 
BufferedReader reader = new BufferedReader(fileReadrer); 

String line = null; 
while((line = reader.readLine()) != null) { // readLine() ì€ í•œì¤„ ë‹¨ìœ„ë¡œ ì½ì–´ë“¤ì„ 
	System.out.println(line); 
} 

reader.close();
```

### write

```java
String fileName = "C:/test.txt"  // ìƒì„±í•  íŒŒì¼ëª… 
String str = "abc"  // ì‘ì„±í•  ë¬¸ìì—´
 
FileWriter fileWriter = new FileWriter(fileName); 
BufferedWriter out = new BufferedWriter(fileWriter); 

out.write(str); // ì“°ê¸° 
out.newLine(); // ì¤„ë°”ê¾¸ê¸° 
out.close();
```
